<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="base::layout(~{::section})">
<head>
    <meta charset="UTF-8">
    <title>Booking Management System</title>
</head>
<section>
    <div class="container">
        <div class="row">
            <h1>Booking Details</h1>
        </div>
        <div class = "row">
			<div class = "col-lg-3">
				<a th:href = "@{/user/hotels}" class = "btn btn-primary btn-sm mb-3"> New Booking</a>
			</div>
		</div>
        <table class="table table-striped table-bordered">
            <thead class="table-dark">
                <tr>
                    <th>Check-in Date</th>
                    <th>Check-out Date</th>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Email</th>
                    <th>Booking Status</th>
                    <th> Actions </th>
                </tr>
            </thead>

            <tbody>
                <tr th:each="booking: ${bookings}">
                    <td th:text="${booking.checkinDate}"></td>
                    <td th:text="${booking.checkoutDate}"></td>
                    <td th:text="${booking.firstName}"></td>
                    <td th:text="${booking.lastName}"></td>
                    <td th:text="${booking.email}"></td>
                    <td th:text="${booking.bookingStatus}"></td>
                    <td>
						 <div th:if="${booking.bookingStatus != 'Cancelled'}">
                        <a th:href="@{/user/updateBooking/{id}(id=${booking.id})}" class="btn btn-primary">Update</a>
                        <a th:href="@{/cancelBooking/{id}(id=${booking.id})}" class="btn btn-danger">Cancel</a>
                    </div>
					</td>
                </tr>
            </tbody>
        </table>
    </div>
</section>
</html>
